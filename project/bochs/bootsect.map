GAS LISTING bootsect.s 			page 1


   1              	BOOTSEG = 0x07c0
   2              	.code16
   3              	.text
   4              	.global start
   5              	start:
   6              	    # Normalize the start address
   7 0000 66EA0000 	    jmpl    $BOOTSEG, $start2
   7      0000C007 
   8              	start2:
   9 0008 8CC8     	    movw    %cs, %ax
  10 000a 8ED8     	    movw    %ax, %ds
  11 000c 8EC0     	    movw    %ax, %es
  12 000e 88260000 	    movb    %ah,(msg+17)                 #替换字符串中最后一个.符号为系统蜂鸣声
  13 0012 B91400   	    movw    $20,%cx                           #共显示20个字符，包括回车换行符
  14 0015 BA0410   	    movw    $0x1004,%dx                   #字符串将显示的位置0x10行0x0x04列
  15 0018 BB0C00   	    movw    $0x00c,%bx                     #字符显示属性（红色）
  16 001b BD0000   	    movw    $msg,%bp                       #指向要显示的字符串的首址
  17 001e B80113   	    movw    $0x1301,%ax                  #BIOS中断调用0x10,功能0x13,子功能0x01
  18 0021 CD10     	    int    $0x10
  19 0023 EBFE     	loop:    jmp    loop                             #死循环 
  20 0025 686D79   	msg:    .ascii  "hmy"
  21 0028 030A     	    .byte    3,10
  22 002a 00000000 	.org    510
  22      00000000 
  22      00000000 
  22      00000000 
  22      00000000 
  23 01fe 55AA     	    .word     0xAA55
  24              	
GAS LISTING bootsect.s 			page 2


DEFINED SYMBOLS
          bootsect.s:1      *ABS*:00000000000007c0 BOOTSEG
          bootsect.s:5      .text:0000000000000000 start
          bootsect.s:8      .text:0000000000000008 start2
          bootsect.s:20     .text:0000000000000025 msg
          bootsect.s:19     .text:0000000000000023 loop

NO UNDEFINED SYMBOLS
